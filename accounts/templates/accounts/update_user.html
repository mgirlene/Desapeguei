{% extends 'base.html' %}
{% load static %}

{% block title %}
    Editar usuário
{% endblock title %}

{% block page %}
{% endblock page %}

{% block content %}

    <div class="row justify-content-center">
        <div class="col-xl-8 col-lg-9">
            <!-- Social registration form-->
            <div class="card my-5">
                <div class="card-body p-4 text-center">
                    <div class="h3 font-weight-light mb-3">Edite suas informações</div>
                </div>
                <hr class="my-0">
                <div class="card-body p-4">
                    <!-- Login form-->
                    {% if form.errors %}
                        {% for field in form %}
                            {% for error in field.errors %}
                                <div class="alert alert-danger">
                                    <strong>{{ field.name|title }} {{ error|escape }}</strong>
                                </div>
                            {% endfor %}
                        {% endfor %}
                        {% for error in form.non_field_errors %}
                            <div class="alert alert-danger">
                                <strong>{{ error|escape }}</strong>
                            </div>
                        {% endfor %}
                    {% endif %}
                    <form method="post">
                        {% csrf_token %}
                        <!-- Form Row-->
                        <div class="form-row">
                            <div class="col-md-6">
                                <!-- Form Group (first name)-->
                                <div class="form-group">
                                    <label class="text-gray-600 small" for="id_first_name">Nome</label>
                                    <input name="first_name" id="id_first_name" class="form-control form-control-solid"
                                           type="text" placeholder="" aria-label="First Name"
                                           value="{{ form.first_name.value }}" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <!-- Form Group (last name)-->
                                <div class="form-group">
                                    <label class="text-gray-600 small" for="id_last_name">Sobrenome</label>
                                    <input name="last_name" id="id_last_name" class="form-control form-control-solid"
                                           type="text" placeholder="" aria-label="Last Name"
                                           value="{{ form.last_name.value }}" required>
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="col-md-4">
                                <!-- Form Group (first name)-->
                                <div class="form-group">
                                    <label class="text-gray-600 small" for="id_cpf">CPF</label>
                                    <input name="cpf" id="id_cpf" class="form-control form-control-solid"
                                           type="text" placeholder="" aria-label="First Name"
                                           value="{{ form.cpf.value }}" required>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <!-- Form Group (last name)-->
                                <div class="form-group">
                                    <label class="text-gray-600 small" for="id_data_nascimento">Data de
                                        Nascimento</label>
                                    <input name="data_nascimento" id="id_data_nascimento"
                                           class="form-control form-control-solid"
                                           type="date" placeholder="" aria-label="Last Name"
                                           value="{{ form.data_nascimento.value|date:'Y-m-d' }}" required>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <!-- Form Group (last name)-->
                                <div class="form-group">
                                    <label class="text-gray-600 small" for="id_celular">Celular</label>
                                    <input name="celular" id="id_celular" class="form-control form-control-solid"
                                           type="text" placeholder="" aria-label="Last Name"
                                           {% if form.celular %} value="{{ form.celular.value }}"{% endif %} required>
                                </div>
                            </div>
                        </div>
                        <div class="form-group d-flex align-items-center justify-content-center">
                            <button class="btn btn-primary" type="submit">Editar dados</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
{% endblock content %}

{% block js %}
<script type="text/javascript">
    $(document).ready(function () {
        $("#id_celular").mask("(00)00000-0000");
        $("#id_cpf").mask("000.000.000-00");

        setTimeout(fade_out, 4000);

        function fade_out() {
            $(".messages").fadeOut().empty();
            $(".alert").fadeOut().empty();
        }
    });
</script>
{% endblock js %}